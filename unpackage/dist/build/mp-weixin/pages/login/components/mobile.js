"use strict";const e=require("../../../common/vendor.js"),r=require("../../../stores/counter.js"),s=require("../../../api/user.js");if(require("../../../api/uni-fetch.js"),!Array){(e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const o={__name:"mobile",setup(o){const a=r.useUserStore(),n=e.reactive({account:"",key:""}),t=e.ref(),u=e.ref({account:{rules:[{required:!0,errorMessage:"请输入手机号"},{pattern:/^1[3-9]{9}\d$/,errorMessage:"手号格式不正确"}]},password:{rules:[{required:!0,errorMessage:"请输入验证码"}]}}),i=async()=>{const r=await t.value.validate();let o=await s.login(r);a.token=o.data,e.index.switchTab({url:"/pages/my/index"})},c=e.ref(!1);return(r,s)=>({a:n.account,b:e.o((e=>n.account=e.detail.value)),c:e.p({name:"account"}),d:c.value?"text":"password",e:n.password,f:e.o((e=>n.password=e.detail.value)),g:e.p({name:"password"}),h:e.sr(t,"8f3fa7e0-0",{k:"accountForm"}),i:e.p({rules:u.value,modelValue:n}),j:e.o(i)})}};wx.createComponent(o);
