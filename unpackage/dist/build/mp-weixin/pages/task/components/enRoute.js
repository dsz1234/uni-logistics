"use strict";const e=require("../../../common/vendor.js"),a=require("../../../api/task.js");require("../../../api/uni-fetch.js"),require("../../../stores/counter.js");const t={__name:"enRoute",setup(t){const s=e.ref([]),u=e.ref({page:0,pageSize:5,status:2}),r=e.ref(!1),i=e.ref(!1),l=e.ref(!1),n=async()=>{try{u.value.page++;const e=await a.getQuestList(u.value);1===u.value.page&&(s.value=[]),s.value=[...s.value,...e.data.items||[]],i.value=u.value.page==e.data.pages,l.value=s.value.length<=0}catch(e){console.log(e)}};e.onLoad((()=>{n()}));const d=()=>{i.value||n()},o=async()=>{r.value=!0,u.value.page=0,await n(),r.value=!1};return(a,t)=>e.e({a:e.f(s.value,((a,t,s)=>e.e({a:e.t(a.transportTaskId),b:e.t(a.startAddress),c:e.t(a.endAddress),d:`/subpkg_task/detail/index?id=${a.id}`,e:e.t(a.planDepartureTime),f:2===a.status},2===a.status?{g:`/subpkg_task/delivery/index?id=${a.id}`}:{},{h:4===a.status},4===a.status?{i:`/subpkg_task/delivery/index?id=${a.id}`}:{},{j:t}))),b:l.value},(l.value,{}),{c:r.value,d:e.o(o),e:e.o(d)})}};wx.createComponent(t);
