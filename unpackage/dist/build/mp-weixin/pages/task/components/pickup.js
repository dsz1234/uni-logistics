"use strict";const e=require("../../../common/vendor.js"),a=require("../../../api/task.js");require("../../../api/uni-fetch.js"),require("../../../stores/counter.js");const t={__name:"pickup",setup(t){const s=e.ref({page:0,pageSize:5,status:1}),u=e.ref([]),r=async()=>{try{s.value.page++;const e=await a.getQuestList(s.value);1===s.value.page&&(u.value=[]),u.value=[...u.value,...e.data.items||[]],l.value=s.value.page==e.data.pages,n.value=0===u.value.length}catch(e){console.log(e)}};e.onLoad((()=>{r()}));const i=e.ref(!1),l=e.ref(!1),n=e.ref(!1),p=()=>{l.value||r()},c=async()=>{i.value=!0,s.value.page=0,await r(),i.value=!1};return(a,t)=>e.e({a:e.f(u.value,((a,t,s)=>e.e({a:e.t(a.transportTaskId),b:e.t(a.startAddress),c:e.t(a.endAddress),d:`/subpkg_task/detail/index?id=${a.id}`,e:e.t(a.planDepartureTime),f:a.enablePickUp},a.enablePickUp?{g:`/subpkg_task/pickup/index?id=${a.id}`}:{},{h:t}))),b:n.value},(n.value,{}),{c:i.value,d:e.o(c),e:e.o(p)})}};wx.createComponent(t);
