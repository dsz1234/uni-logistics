import{k as e,r as a,l as s,o as t,b as l,a as u,w as o,e as r,F as n,s as i,I as c,i as d,g as p,m,c as f,t as _}from"./index-d88a521f.js";import{_ as v,a as b,b as y}from"./account.7f36a4e8.js";import{r as g}from"./uni-app.es.c0a9eb75.js";import{u as k}from"./uni-fetch.216a285c.js";import{l as w}from"./user.9a1f8c51.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";const h=V({__name:"mobile",setup(f){const _=k(),y=e({account:"",key:""}),V=a(),h=a({account:{rules:[{required:!0,errorMessage:"请输入手机号"},{pattern:/^1[3-9]{9}\d$/,errorMessage:"手号格式不正确"}]},password:{rules:[{required:!0,errorMessage:"请输入验证码"}]}}),j=async()=>{const e=await V.value.validate();let a=await w(e);_.token=a.data,i({url:"/pages/my/index"})},x=a(!1);return(e,a)=>{const i=c,f=g(s("uni-forms-item"),v),_=d,k=p,w=g(s("uni-forms"),b),M=m;return t(),l(n,null,[u(w,{ref_key:"accountForm",ref:V,rules:h.value,class:"uni-form",modelValue:y},{default:o((()=>[u(f,{name:"account"},{default:o((()=>[u(i,{type:"text",class:"uni-input-input",modelValue:y.account,"onUpdate:modelValue":a[0]||(a[0]=e=>y.account=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),u(f,{name:"password"},{default:o((()=>[u(i,{type:x.value?"text":"password",class:"uni-input-input",modelValue:y.password,"onUpdate:modelValue":a[1]||(a[1]=e=>y.password=e),placeholder:"请输入验证码"},null,8,["type","modelValue"]),u(k,{class:"right"},{default:o((()=>[u(_,{class:"hqCode"},{default:o((()=>[r("获取验证码")])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","modelValue"]),u(M,{onClick:j,class:"submit-button disabled"},{default:o((()=>[r("登录")])),_:1})],64)}}},[["__scopeId","data-v-1c5104b7"]]),j=V({__name:"index",setup(e){const s=a(0),l=a([{title:"账号登录",subTitle:"手机号登录"},{title:"手机号登录",subTitle:"账号登录"}]),n=()=>{s.value=Math.abs(s.value-1)};return(e,a)=>{const i=p,c=d;return t(),f(i,{class:"user-login"},{default:o((()=>[u(i,{class:"login-type"},{default:o((()=>[u(i,{class:"title"},{default:o((()=>[r(_(l.value[s.value].title),1)])),_:1}),u(i,{class:"type"},{default:o((()=>[u(c,{onClick:n},{default:o((()=>[r(_(l.value[s.value].subTitle),1)])),_:1}),u(c,{class:"iconfont icon-caret"})])),_:1})])),_:1}),0===s.value?(t(),f(y,{key:0})):(t(),f(h,{key:1}))])),_:1})}}},[["__scopeId","data-v-53ff3259"]]);export{j as default};
